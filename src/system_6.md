
# [システム 06] 疎結合アーキテクチャ 

## なぜ、重要か。
システムの役割は単純であればあるほど、高速に改善しやすくなります。

複雑な問題を解くときに単純な問題の組み合わせにするというのは重要な設計技術です。

疎結合なアーキテクチャとは、このように改善する単位を単純に保つための技術です。

## チェックリスト 

### メトリクスの計測
+ 目指すべきアーキテクチャに対してそぐわない点を洗い出すための仕組みが存在しており、それらの情報をもとに改善を進めているか。（アーキテクチャ適応度関数）

### 学習と改善
+ システムアーキテクチャの決定・変更・改善に関するドキュメントを管理し継続的な学習機会を設けているか。

### プラクティスと習慣
+ ドメインイベントの発火に伴いPublish/Subscribeモデルを利用した仕組みで、関連サービスとの連携が可能か。またその履歴データが保存管理され、これらのイベントリプレイから再突合や監査の自動化が可能か。
+ 結果整合性を考慮したサービスレベルの合意が要件のガイドラインの中に組み込まれているか。
+ バッチ、ジョブ、プロシージャに対する冪等な設計ガイドラインが存在しており、再送によって整合性が担保できるようなシステムになっているか。

### アンチパターン
+ １つのデータベースに対して複数のシステムからの直接的な参照または書き込みがなされていて、それらの依存性が簡単には追跡できない状況になっている。
+ 疎結合なシステムであるが、分散トレーシングの仕組みがなく、問題発生時の原因特定に時間がかかる。
+ 自動テストとスキーマ定義の存在しない外部システムとの依存性が１０個以上存在しており、機能開発の影響範囲を特定できない。
            
